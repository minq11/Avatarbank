# Avatar Market 화면 설계

> 이 문서는 `AvatarBank`의 아바타를 조회하고 생성화면으로 이동하는 프론트엔드 화면을 정의한다.  
> 컴포넌트 구조, UX 흐름, 주요 상태값을 이해하기 위한 수준의 설계 문서이다.
> 이 문서를 참조하여 백엔드도 구현해라.
---

## 1. 주 화면 구성

화면은 크게 두 개의 영역으로 나뉩니다.

`적당한 제목`

### 1.1 My Avatars 영역

- **레이아웃**: 아바타 카드의 배열 형식(4개가 한줄, 스크롤)
- **아바타 카드 구성**:
  - 정사각형 영역
  - 대표 이미지
  - 아바타 이름

**동작**:
- 아바타 클릭 시 → [2.2 상세 팝업](#22-아바타-상세-및-수정-팝업) (모달) 표시

---

## 2. 팝업 구성

### 2.1 아바타 학습 요청 팝업

#### 2.1.1 기본 정보 입력

모든 필드는 **필수값**입니다.

| 필드명 | 입력 타입 | 설명 |
|--------|----------|------|
| **Avatar name** | 텍스트 입력 | 아바타 이름 |
| **Negative prompt** | 텍스트 입력 | 네거티브 프롬프트 |
| **Credit per generation** | 숫자 입력 | 생성당 크레딧 |
| **National** | 콤보박스 | 국적 선택 |
| **Gender** | 라디오 버튼 | 성별 선택 (M / W / Etc) |
| **설명** | 텍스트 영역 | 아바타 설명 |
| **대표이미지** | 파일 입력 | 대표 이미지 (추후 변경 가능) |

#### 2.1.2 실존인물 기반 아바타

만약 **실존인물 기반**이라면:

- **Instagram ID** 입력 필드
- 안내 메시지:
  > 본인의 요청임을 DM([@avatarbank_official](https://www.instagram.com/avatarbank_official/))으로 확인하세요.  
  > 본인이 아닌 경우 학습하지 않습니다.

#### 2.1.3 학습용 사진 업로드

각 카테고리별로 **최소 개수**의 정사각형 슬롯이 표시됩니다.

| 카테고리 | 최소 개수 | 설명 |
|---------|----------|------|
| **정면** | 최소 4장 | 정면 사진 |
| **측면** | 최소 4장 | 측면 사진 |
| **전신** | 최소 1장 | 전신 사진 |
| **기타** | 최소 1장 | 기타 사진 |

**동작**:
- 정사각형 슬롯 클릭 → 파일 업로드 다이얼로그 표시
- 업로드 완료 → 슬롯에 해당 사진으로 채워짐

#### 2.1.4 액션 버튼

- **요청하기** 버튼
  - 이미지는 S3에 저장
  - `TrainingRequest` 데이터 생성
- **닫기** 버튼

---

### 2.2 아바타 상세 및 수정 팝업

#### 2.2.1 조회 영역

- 대표 사진 조회
- 샘플 사진들 조회
- 학습 요청 시 입력한 값들 조회:
  - Avatar name
  - Negative prompt
  - Credit per generation
  - National
  - Gender
  - 설명

#### 2.2.2 수정 가능 항목

다음 항목만 수정 가능합니다:

- ✅ **Credit per generation**
- ✅ **Avatar name**
- ✅ **설명**
- ✅ **대표사진** (샘플사진 포함)

#### 2.2.3 액션 버튼

- **저장** 버튼
- **닫기** 버튼

---

## 3. 데이터 흐름

```
[신규요청 버튼 클릭]
    ↓
[학습요청 팝업 열림]
    ↓
[정보 입력 + 사진 업로드]
    ↓
[요청하기 클릭]
    ↓
[이미지 → S3 저장]
    ↓
[TrainingRequest 생성]
    ↓
[상태: "요청됨"]
    ↓
[관리자 승인]
    ↓
[상태: "요청승인-학습중"]
    ↓
[학습 완료]
    ↓
[My Avatars 영역에 아바타 추가]
```

---

## 4. 상태 관리

### Training Request 상태

| 상태 | 설명 |
|------|------|
| `요청됨` | 학습 요청이 제출된 상태 |
| `요청승인-학습중` | 관리자가 승인하고 학습이 진행 중인 상태 |
| `요청반려` | 관리자가 요청을 거부한 상태 |

---

## 5. 참고사항

- 모든 이미지는 S3에 저장됩니다.
- 대표이미지는 추후 변경 가능합니다.
- 실존인물 기반 아바타의 경우 Instagram DM 확인 절차가 필요합니다.
